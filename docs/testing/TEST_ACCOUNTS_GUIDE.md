# 🎯 测试账户使用指南

## ✅ 现在可以直接登录了！

我已经修复了问题，现在测试账户**不依赖数据库连接**，可以直接使用！

---

## 🔑 测试账户

### 1. 普通用户账户

```
邮箱: test@maffix.com
密码: password123
```

**权限：**
- ✅ 访问 Dashboard
- ✅ 查看任务列表
- ✅ 查看 Gacha 抽奖
- ✅ 查看奖品
- ✅ 查看个人资料
- ❌ 无法访问管理后台

**初始资源：**
- 💎 Diamonds: 500
- ⭐ Points: 100
- 📊 Level: 1

---

### 2. 管理员账户

```
邮箱: admin@maffix.com
密码: password123
```

**权限：**
- ✅ 所有普通用户权限
- ✅ 访问管理后台 `/admin`
- ✅ 审核任务提交
- ✅ 管理用户
- ✅ 查看统计数据

**初始资源：**
- 💎 Diamonds: 10,000
- ⭐ Points: 5,000
- 📊 Level: 10

---

### 3. 备用测试账户

```
邮箱: user@maffix.com
密码: password123
```

**权限：** 与普通用户相同

**初始资源：**
- 💎 Diamonds: 500
- ⭐ Points: 100
- 📊 Level: 1

---

## 🚀 如何登录

### 步骤 1：访问登录页面

```
http://localhost:3000/login
```

### 步骤 2：输入测试账户

选择上面任意一个测试账户，输入邮箱和密码。

### 步骤 3：点击 "Sign in"

登录成功后会自动跳转到 Dashboard。

---

## 📱 可以测试的功能

### Dashboard 页面 (`/dashboard`)

- ✅ 查看用户统计（Diamonds、Points、Level）
- ✅ 快速操作按钮
- ✅ 账户信息展示

### 任务页面 (`/tasks`)

- ✅ 查看可用任务列表
- ✅ 查看任务详情（类型、难度、奖励）
- ✅ 任务提交按钮（会显示模拟数据）

**模拟任务：**
1. **Follow on Social Media** - EASY - 10 Points + 5 Diamonds
2. **Write a Review** - MEDIUM - 50 Points + 25 Diamonds
3. **Daily Check-in** - EASY - 5 Points + 2 Diamonds

### Gacha 页面 (`/gacha`)

- ✅ 查看当前 Diamond 余额
- ✅ 查看奖品池
- ✅ 查看每个奖品的概率
- ✅ Gacha 抽奖按钮（100 💎 per pull）

**模拟奖品池：**
1. **VIP Concert Ticket** - LEGENDARY - 5% 概率
2. **Signed Album** - EPIC - 15% 概率
3. **Exclusive Sticker Pack** - COMMON - 40% 概率

### 奖品页面 (`/prizes`)

- ✅ 查看已获得的奖品
- ✅ 奖品详情展示
- ✅ 兑换按钮（对于未兑换的奖品）

**注意：** 测试账户初始没有奖品，需要先抽 Gacha 获得。

### 个人资料页面 (`/profile`)

- ✅ 查看完整的用户信息
- ✅ 查看统计数据
- ✅ 查看交易历史
- ✅ 登出按钮

### 管理后台 (`/admin`) - 仅管理员

使用 `admin@maffix.com` 登录后可访问：

- ✅ 管理员 Dashboard
- ✅ 任务审核页面 (`/admin/tasks`)
- ✅ 用户管理
- ✅ 统计数据

---

## 🎨 测试模式特点

### 开发模式功能

在开发环境下，测试账户具有以下特点：

1. **不依赖数据库**
   - 所有数据都是模拟的
   - 即使数据库连接失败也能正常使用

2. **预设数据**
   - 自动加载模拟任务
   - 自动加载模拟奖品
   - 自动设置用户余额

3. **控制台日志**
   - 登录时会显示 "✅ Test account login"
   - 页面加载时会显示 "📊 Using mock data for test account"

### 限制

测试账户的限制：

- ❌ 无法真正提交任务（会显示成功但不会保存）
- ❌ 无法真正抽 Gacha（会显示成功但不会扣除 Diamonds）
- ❌ 无法真正兑换奖品（会显示成功但不会更新状态）
- ❌ 数据不会持久化（刷新页面后恢复初始状态）

**这些限制是正常的**，因为测试模式的目的是让您能够：
- ✅ 查看和测试所有页面的 UI
- ✅ 验证导航和路由
- ✅ 测试用户体验流程
- ✅ 检查响应式设计

---

## 🔄 切换到真实数据库

当 Supabase 数据库连接修复后，系统会自动：

1. 检测到数据库可用
2. 尝试从数据库加载真实用户数据
3. 如果数据库中有同名用户，使用真实数据
4. 如果数据库连接失败，回退到测试模式

**无需修改代码**，系统会自动处理！

---

## 🧪 测试清单

### 基础功能测试

- [ ] 访问首页 `/`
- [ ] 访问登录页面 `/login`
- [ ] 使用测试账户登录
- [ ] 查看 Dashboard
- [ ] 访问任务页面
- [ ] 访问 Gacha 页面
- [ ] 访问奖品页面
- [ ] 访问个人资料页面
- [ ] 登出功能

### 管理员功能测试

- [ ] 使用管理员账户登录
- [ ] 访问管理后台 `/admin`
- [ ] 查看管理员 Dashboard
- [ ] 访问任务审核页面
- [ ] 返回用户 Dashboard

### UI/UX 测试

- [ ] 页面布局正常
- [ ] 导航栏工作正常
- [ ] 按钮可点击
- [ ] 卡片显示正常
- [ ] 颜色和样式正确
- [ ] 响应式设计（调整浏览器窗口大小）

### 路由保护测试

- [ ] 未登录时访问 `/dashboard` 会跳转到登录页
- [ ] 普通用户访问 `/admin` 会被拒绝
- [ ] 登录后访问 `/login` 会跳转到 Dashboard

---

## 📊 预期结果

### 登录成功后

1. **URL 变化**
   ```
   /login → /dashboard
   ```

2. **页面显示**
   - 顶部导航栏显示用户名
   - Dashboard 显示统计卡片
   - 侧边栏显示导航链接

3. **控制台输出**（打开浏览器 F12 → Console）
   ```
   ✅ Test account login: test@maffix.com
   📊 Using mock data for test account: test@maffix.com
   ```

---

## 🐛 故障排查

### 问题：无法登录

**检查：**
- [ ] 邮箱和密码是否正确（区分大小写）
- [ ] 开发服务器是否正在运行
- [ ] 浏览器控制台是否有错误

**解决：**
```bash
# 重启开发服务器
npm run dev
```

### 问题：登录后显示空白页

**检查：**
- [ ] 浏览器控制台的错误信息
- [ ] 开发服务器的日志

**解决：**
- 刷新页面（Cmd/Ctrl + R）
- 清除浏览器缓存
- 重启开发服务器

### 问题：页面显示 "Loading..."

**原因：** 正常的加载状态

**解决：** 等待几秒钟，页面会自动加载

---

## ✅ 成功标志

如果一切正常，您应该能够：

1. ✅ 使用测试账户登录
2. ✅ 看到 Dashboard 页面
3. ✅ 看到 500 💎 Diamonds（普通用户）或 10,000 💎（管理员）
4. ✅ 浏览所有页面
5. ✅ 看到模拟的任务和奖品数据
6. ✅ 使用导航栏切换页面
7. ✅ 成功登出

---

## 🎉 开始测试！

现在您可以：

1. **打开浏览器**
   ```
   http://localhost:3000/login
   ```

2. **使用测试账户登录**
   ```
   邮箱: test@maffix.com
   密码: password123
   ```

3. **探索所有功能！**

---

**祝测试愉快！** 🚀

如有任何问题，请随时告诉我！

